;PROGRAM TO ENTER A STRING AND PRINT IT USING MACRO

[ORG 0X7C00]

[BITS 16]

JMP BEGIN


%MACRO PRINT.STRING 1
	MOV SI,%1
	PUSHA
	CALL PRINTS
	POPA
%ENDMACRO

PRINTS:
.LOOPA:
	MOV AH,0X0E
	LODSB
	CMP AL,0
	JE .LOOP_DONE
	INT 0X10
	JMP SHORT .LOOPA

.LOOP_DONE:	
	RET






MOV BP, 300
MOV SP, BP



BEGIN: 

	PRINT.STRING STRING1
	MOV DI,STRING
	MOV CX,0

.READ1: 
	MOV AX,0
	INT 0X16
	CMP AL,0DH
	JE .READ_DONE
	MOV AH,0X0E
	INT 0X10
	STOSB
	INC CX
	CMP CX, 31
	JE .READ_DONE
	JMP SHORT .READ1

.READ_DONE: 
	MOV AL,0
	STOSB
	;MOV AL,0AH
	;MOV AH,0X0E
	;INT 0X10
	PRINT.STRING STRING2
	PRINT.STRING STRING

EXIT:
	HLT

STRING TIMES 32 DB 0
STRING1 DB "ENTER A STRING:",0
STRING2 DB 13,10,"ENTERED STRING:",0

TIMES 510-($-$$)DB 0
DW 0XAA55

 
 